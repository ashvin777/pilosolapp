<div class="page page-reports">


  <form ng-submit="$ctrl.searchLogs()">

    <select class="custom-select custom-select-sm" ng-model="$ctrl.searchBy" required>
      <option value="none" selected>Search by...</option>
      <option value="frameDynamicCode">Frame Serial Number</option>
      <option value="frametype">Frame Name</option>
      <option value="shiftnumber">Shift</option>
      <option value="framecomponent">Component</option>
      <option value="status">Status</option>
    </select>

    <input type="text" ng-model="$ctrl.searchString" class="form-control form-control-sm" placeholder="Enter search text..." required>
    <input type="date" ng-model="$ctrl.searchStartTime" class="form-control form-control-sm" placeholder="Enter start time..." required>
    <input type="date" ng-model="$ctrl.searchEndTime" class="form-control form-control-sm" placeholder="Enter end time..." required>

    <button type="submit" class="btn btn-primary btn-sm">Search</button>

    <button type="button" class="btn btn-primary btn-sm" ng-click="$ctrl.clear()">Clear</button>

    <button type="button" class="btn btn-primary btn-sm" ng-click="$ctrl.getLogs()">Refresh</button>

    <button type="button" class="btn btn-primary btn-sm" ng-click="$ctrl.downloadLogs()">Download</button>

  </form>

  <table class="table table-dark table-striped table-bordered table-sm">
    <thead>
      <tr>
        <th width="100px" scope="col">Sr. No.</th>
        <th width="300px" scope="col">Frame Serial Number</th>
        <th scope="col">Frame Name</th>
        <th scope="col">Component</th>
        <th width="100px" scope="col">Shift</th>
        <th width="100px" scope="col">Status</th>
        <th width="200px" scope="col">Timestamp</th>
      </tr>
    </thead>
    <tbody ui-scroll-viewport>
      <tr ui-scroll="log in $ctrl.logsDatasource" ng-class="{ 'text-danger' : log.status != 'PRESENT'}" adapter="$ctrl.logsAdapter">
        <td width="100px" scope="col">{{log.id}}</td>
        <td width="300px">{{log.framedynamiccode}}</td>
        <td>{{log.frametype}}</td>
        <td>{{log.framecomponent}}</td>
        <td width="100px">{{log.shiftnumber}}</td>
        <td width="100px">{{log.status}}</td>
        <td width="200px">{{$ctrl.getTime(log.timestamp) | date:'MM/dd/yyyy HH:mm' }}</td>
      </tr>
    </tbody>
  </table>

</div>
